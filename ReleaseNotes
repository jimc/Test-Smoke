=head1 NAME

ReleaseNotes - These are the Release Notes for 1.18.09

=head1 SYNOPSIS

These are the major changes since version 1.17.

=head1 DESCRIPTION

I have done more refactoring and wrote some new code and documentation
since v1.17.

Here is a list of changes for 1.18.xx MAINT:

=over 4

=item 1

I forgot to call C<< S<make -i distclean> >> before do_manifest_check().

=item 2

Added the new report status B<X> to report failing tests under 
C<< S<make _test> >> that do not fail under C<harness>.

=item 3

Added a little archive script, that archives the report and the
logfile.

=item 4

Alan Burlison asked for something to give a status report on running
smokes. So I put something together in F<smokestatus.pl>, thank you
Alan for this good idea.

As of 1.18.03 there are two new options: C<--all> which tries to check
the status for all B<*_config> files, and C<--running> which tries to
check the status for all configs associated with B<*.lck> files.

=item 5

The make processes (I<make> and I<make test-prep>) will now take extra
options and I<make _test> can be configured to use a diffent
make-binary.

=item 6

[Bug Fix] Alan Burlison pointed me at an ommission in the refactoring
process. I forgot about C<$ENV{LD_LIBRARY_PATH}>, now back in.

=item 7

[Bug Fix] Merijn found that "--continue" did not work. It was broken
in multiple places. Thanks Merijn for helping me to get it to work.

=item 8

[Bug Fix] Abigail found that F<runsmoke.pl> was not as backward
compatible with F<mktest.pl> as documented. He provided a fix
proposal. Thanks Abigail!

=item 9

[Bug Fix] Nick Clark found a thinko in the F<configsmoke.pl> code that
writes the jcl after configuration in a different directory from the
install directory. Thanks Nick!

=item 10

Some perl5-porters have expressed that they do not want PASS reports
on p5p. Nick Clark suggested we try and manage that from Test::Smoke,
so we now have a new config-variable C<ccp5p_onfail> that defaults to
'No'. B<Please> do not try to include p5p in your default C<To:> or
C<Cc:>, F<configsmoke.pl> will not accept it anymore.

=item 11

Some questions were asked about how to integrate
C<-DPERL_COPY_ON_WRITE> into the smokes. After the third time I wasn't
convinced by the answer anymore, the code needs to be smarter!

For people not using an explicit F<Policy.sh> the default one that is
generated (to handle C<-DDEBUGGING>) is now extended to include all
policy-targets from the buildconfigurations file in the C<ccflags=''>
line in F<Policy.sh> (see also L<FAQ>).

=back

Major changes since 1.17

=over 4

=item 1

Jarkko suggested a timeout mechanism so that smokes are stopped on a
specific time or after a specified duration.

    {killtime} eq '07:30' stops the smoke at 07:30 (AM)
    {killtime} eq '+9:30' stop after 9.5 hours

(this change was integrated into 1.17.02 MAINT)

=item 2

L<Test::Smoke::BuildCFG> is a new interface for handling build
configurations. This OO interface will serialize the parsed build
configurations and give you the ability to iterate over them.

=item 3

L<Test::Smoke::Smoker> is a new interface for running a smoke
cycle. It basically replaces the inner works of F<mktest.pl>.

F<mktest.pl> is hereby deprecated and F<runsmoke.pl> is its
replacement front-end to B<Test::Smoke>/B<Test::Smoke::Smoker>

=item 4

Merijn was in dire need of a C<--continue> option and it was on
Abigail's wishlist as well as on mine. So I hacked it.

=item 5

I wanted support for Jarkko's 5.8.x snapshots. These are only
available via HTTP without a directory listing. There was already
support for a specific snapshot file but not for HTTP. If  you have
B<LWP> installed, B<Test::Smoke> will use C<LWP::Simple::mirror()> to
fetch the snapshot. (You should create a separate configuration for
this.) Use this feature together with the new C<--snapshot=i> switch
for F<smokeperl.pl>:

    $ ./snap58x.sh --snapshot 19876

(these changes were integrated from 1.17.07 MAINT)

=item 6

The new C<--defaultenv> switch allows you to run the test-suite
without C<< $ENV{PERLIO} >> (a single pass for C<< S<make test> >>).

=item 7

F<configsmoke.pl> now does a basic check for unsupported build-options
in the build-configurations file.

B<This feature is still in its infancy, so if you have any information
regarding your platform, please let us know.>

=item 8

The keys in the F<*_config> files will now be ordered if 
C<< Data::Dumper->can('Sortkeys') >>. This was a feature request from
Merijn.

=item 9

In some cases F<miniperl> gets build but no F<perl>. Hugo suggested we
should run C<< S<make minitest> >> in this case. The new status B<M>
will appear in the reports and if there are test failures they are
marked with B<[minitest]>.

=item 10

Now that we have a new Champion for 5.6.2 (thank you Rafael) there are
some extra defaults to help configuring Test::Smoke for this release.

=back

=head1 REVISION

$Id: ReleaseNotes 489 2003-11-02 13:18:28Z abeltje $

=head1 COPYRIGHT

Copyright 2002-2003, Abe Timmerman <abeltje@cpan.org> All rights reserved.

This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.

See:

=over 4

=item * L<http://www.perl.com/perl/misc/Artistic.html>

=item * L<http://www.gnu.org/copyleft/gpl.html>

=back

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

=cut
